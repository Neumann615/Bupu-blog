# 函数类型

## 函数定义类型和返回值

```typescript
//普通函数
function add(a: number, b: number) {
    return a + b
}

//箭头函数
const add2 = (a: number, b: number): number => a + b

```

## 函数可选参数及默认值

```typescript
//默认值
function add(a: number = 10, b: number = 20) {
    return a + b
}

//可选值
function add(a?: number, b?: number) {
    return a + b
}

```

## 函数对象参数

```typescript
interface User {
    name: string
    age: number
}

function add(user: User) {
    return user
}
```

## 函数this类型

```typescript
interface Obj {
    user: number[]
    add: (this: Obj, num: number) => void
}

//ts可以定义this的类型，在js中无法使用，必须是第一个参数定义this的类型

let obj: Obj = {
    user: [1, 2, 3],
    add(this: Obj, num: number) {
        this.user.push(num)
    }
}

obj.add(4)
```

## 函数重载

```typescript
let user: number[] = [1, 2, 3]

function findNum(add: number[]): number[]
function fundNum(id: number): number[]
function findNum(): number[]
function findNum(ids?: number | number[]): number[] {
    if (typeof ids === "number") {
        return user.filter(v => v == ids)
    } else if (Array.isArray(ids)){
        user.push(...ids)
        return user
    } else {
        return user
    }
}

```

